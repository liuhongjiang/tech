<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[分类: math | 刘洪江的流水帐]]></title>
  <link href="http://liuhongjiang.github.com/tech/blog/categories/math/atom.xml" rel="self"/>
  <link href="http://liuhongjiang.github.com/tech/"/>
  <updated>2015-04-17T19:57:31+08:00</updated>
  <id>http://liuhongjiang.github.com/tech/</id>
  <author>
    <name><![CDATA[刘洪江]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[显示公式]]></title>
    <link href="http://liuhongjiang.github.com/tech/blog/2012/11/21/math/"/>
    <updated>2012-11-21T12:49:00+08:00</updated>
    <id>http://liuhongjiang.github.com/tech/blog/2012/11/21/math</id>
    <content type="html"><![CDATA[<p>在网页或blog中引用数学公式是一件痛苦的事情。经过几番在网上的查找，算是勉强找到了一个借鉴方法。借用强大的<code>MathJax + Latex</code>就可以解决这个问题。废话少说，先来一个例子  </p>

<script type="math/tex; mode=display">% &lt;![CDATA[

\begin{align*}
  & \phi(x,y) = \phi \left(\sum_{i=1}^n x_ie_i, \sum_{j=1}^n y_je_j \right)
  = \sum_{i=1}^n \sum_{j=1}^n x_i y_j \phi(e_i, e_j) = \\
  & (x_1, \ldots, x_n) \left( \begin{array}{ccc}
      \phi(e_1, e_1) & \cdots & \phi(e_1, e_n) \\
      \vdots & \ddots & \vdots \\
      \phi(e_n, e_1) & \cdots & \phi(e_n, e_n)
    \end{array} \right)
  \left( \begin{array}{c}
      y_1 \\
      \vdots \\
      y_n
    \end{array} \right)
\end{align*}
 %]]&gt;</script>

<!-- more -->

<h2 id="section">更多例子</h2>

<p>下面是在段中插入公式：</p>

<p><code>
段内插入LaTeX代码是这样的：$\exp(-\frac{x^2}{2})$，试试看看吧
</code>
&lt;div markdown="1" class="showbox"&gt;
段内插入LaTeX代码是这样的：$\exp(-\frac{x^2}{2})$，试试看看吧
&lt;/div&gt;</p>

<p><code>
在段中插入公式$$J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha}$$,效果如何
</code></p>

<div class="showbox">
  <p>在段中插入公式<script type="math/tex">J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha}</script>,效果如何</p>
</div>

<h2 id="section-1">更多更多例子</h2>

<p><code>
$$
\begin{align*}
  &amp; J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha}
\end{align*}
$$
</code>
公式显示如下： <em style="color:red"> 注意：$$前一定要有空行</em></p>

<script type="math/tex; mode=display">% &lt;![CDATA[

\begin{align*}
  & J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha}
\end{align*}
 %]]&gt;</script>

<p>或者在一行里：</p>

<p><code>
$$ J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha} $$
</code></p>

<p>公式显示如下：</p>

<script type="math/tex; mode=display"> J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha} </script>

<h2 id="section-2">本文开头的例子</h2>

<p><code>
$$
\begin{align*}
  &amp; \phi(x,y) = \phi \left(\sum_{i=1}^n x_ie_i, \sum_{j=1}^n y_je_j \right)
  = \sum_{i=1}^n \sum_{j=1}^n x_i y_j \phi(e_i, e_j) = \\
  &amp; (x_1, \ldots, x_n) \left( \begin{array}{ccc}
      \phi(e_1, e_1) &amp; \cdots &amp; \phi(e_1, e_n) \\
      \vdots &amp; \ddots &amp; \vdots \\
      \phi(e_n, e_1) &amp; \cdots &amp; \phi(e_n, e_n)
    \end{array} \right)
  \left( \begin{array}{c}
      y_1 \\
      \vdots \\
      y_n
    \end{array} \right)
\end{align*}
$$
</code></p>

<p>显示如下：</p>

<script type="math/tex; mode=display">% &lt;![CDATA[

\begin{align*}
  & \phi(x,y) = \phi \left(\sum_{i=1}^n x_ie_i, \sum_{j=1}^n y_je_j \right)
  = \sum_{i=1}^n \sum_{j=1}^n x_i y_j \phi(e_i, e_j) = \\
  & (x_1, \ldots, x_n) \left( \begin{array}{ccc}
      \phi(e_1, e_1) & \cdots & \phi(e_1, e_n) \\
      \vdots & \ddots & \vdots \\
      \phi(e_n, e_1) & \cdots & \phi(e_n, e_n)
    \end{array} \right)
  \left( \begin{array}{c}
      y_1 \\
      \vdots \\
      y_n
    \end{array} \right)
\end{align*}
 %]]&gt;</script>

<h2 id="section-3">错误的例子</h2>

<p>这个本来是MathJax默认的方式，但是在kramdown中无法显示</p>

<p><code>
\[ J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha} \]
</code></p>

<p>[ J<em>\alpha(x) = \sum\limits</em>{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha} ]</p>

<h2 id="krmadown">krmadown</h2>

<p>本文主要用到了krmadown,使用很简单，下载安装kramdown，在后在_config.yml文件里面配置即可</p>

<ul>
  <li>
    <p>kramdown主页 <br />
<a href="http://kramdown.rubyforge.org/">kramdown</a>  </p>
  </li>
  <li>
    <p>配置kramdown<br />
在_config.yml文件里</p>
  </li>
</ul>

<p><code>
markdown: kramdown
</code></p>

<h2 id="section-4">链接</h2>

<p>其实我主要是借鉴了下面两篇文字，具体如何配置，也可以在这两篇文字中找到。</p>

<ul>
  <li><a href="http://yanping.me/cn/blog/2012/03/10/octopress-with-latex/">如何加入公式</a>  </li>
  <li><a href="http://steshaw.org/blog/2012/02/09/hello-mathjax/">解决闪烁问题</a>  </li>
</ul>

<h2 id="mathjax">MathJax加载</h2>

<p>按照“<a href="http://yanping.me/cn/blog/2012/03/10/octopress-with-latex/">如何加入公式</a>”的方法加入脚本，会产生一个问题，无论这个页面有没有数学公式，都会去加载MathJax脚本，而加载这个脚本的速度非常慢。那么如何控制，哪些页面加入这个脚本，哪些页面不需要加？    </p>

<p>首先，我在post文档中加入了一个变量<code>math</code>,</p>

<h2 id="section-5">```</h2>
<p>layout: post
title: “显示公式”
date: 2012-11-21 12:49
comments: true
math: true
categories: math
—
```</p>

<p>然后在<code>source/_includes/custom/head.html</code>加入脚本相关内容时，加入了<code> {% if page.math == true %}...{% endif %} </code>语句进行判断，完整的如下：</p>

<p>```

{% if page.math == true %}
<!--JS for show math symbols -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script></p>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>{% endif %}

```</p>

<p>这样，在post的markdown中文件中，如果你声明<code>math</code>为<code>true</code>,那么就会在最后生成的html文件中加上这段加载MathJax的代码；如果不声明，或在声明为空或<code>false</code>，就不会添加加载MathJax的代码。   </p>

<p>还有一个问题，就是在博客首页生成的pinboard中，如果有公式的话，就无法正常显示了。如果需要在首页的pinboard中显示公式，在<code>source/index.html</code>文件中加入<code>math</code>的声明。</p>

<h2 id="section-6">```</h2>
<p>layout: default
math: true
—
```</p>

<h2 id="latex">关于Latex</h2>

<p>本人不会Latex，那么怎么生成Latex格式的公式呢？   </p>

<ul>
  <li>一是可以在线生成：<a href="http://www.codecogs.com/latex/eqneditor.php">Online LaTeX Equation Editor</a>   </li>
  <li>二是使用mathtype。 <br />
  在mathtype的<code>Preferences</code>-&gt;<code>Cut and Copy preferences...</code>选中<code>MathML to Tex</code>。编辑公式后拷贝，粘贴到记事本，就可以得到Latex格式的公式。</li>
</ul>

<h2 id="latex-1">常用latex符号</h2>

<p>特殊字符</p>

<table class="mytable">
  <thead>
    <tr>
      <th style="text-align: center">功能</th>
      <th style="text-align: center">语法</th>
      <th style="text-align: center">显示</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">标准函数</td>
      <td style="text-align: center"><code>\sin x + \ln y +\operatorname{sgn} z </code></td>
      <td style="text-align: center">$\sin x + \ln y +\operatorname{sgn} z$</td>
    </tr>
    <tr>
      <td style="text-align: center">其他</td>
      <td style="text-align: center"><code>\nabla \partial dx</code></td>
      <td style="text-align: center">$\nabla \partial dx$</td>
    </tr>
    <tr>
      <td style="text-align: center">集</td>
      <td style="text-align: center"><code>\forall x\not\in\varnothing\subseteq A\cap B\cup \exists \{x,y\} \times C</code></td>
      <td style="text-align: center">$\forall x \not\in \varnothing \subseteq A\cap B\cup \exists {x,y} \times C$</td>
    </tr>
    <tr>
      <td style="text-align: center">逻辑</td>
      <td style="text-align: center"><code>p\wedge \bar{q} \rightarrow p\vee \bar{q} \Rightarrow r</code></td>
      <td style="text-align: center">$p\wedge \bar{q} \rightarrow p\vee \bar{q} \Rightarrow r$</td>
    </tr>
    <tr>
      <td style="text-align: center">根号</td>
      <td style="text-align: center"><code>\pm \sqrt{2}\approx\pm 1.4</code></td>
      <td style="text-align: center">$\pm \sqrt{2}\approx\pm 1.4$</td>
    </tr>
    <tr>
      <td style="text-align: center"> </td>
      <td style="text-align: center"><code>\sqrt[n]{x}</code></td>
      <td style="text-align: center">$\sqrt[n]{x}$</td>
    </tr>
    <tr>
      <td style="text-align: center">等号</td>
      <td style="text-align: center"><code>\sim \simeq \cong \le \ge \equiv \approx \ne</code></td>
      <td style="text-align: center">$\sim \ \simeq \ \cong \ \le \ \ge \ \equiv \ \approx \ \ne$</td>
    </tr>
    <tr>
      <td style="text-align: center">几何</td>
      <td style="text-align: center"><code>\angle \perp \|</code></td>
      <td style="text-align: center">$\angle \perp \|$</td>
    </tr>
    <tr>
      <td style="text-align: center">特殊</td>
      <td style="text-align: center"><code>\oplus \otimes \mp \hbar \dagger \ddagger \star \circ \cdot \bullet</code></td>
      <td style="text-align: center">$\oplus \otimes \mp \ \hbar \dagger \ddagger \star \circ \cdot \bullet$</td>
    </tr>
  </tbody>
</table>

<p><a href="http://wiki.ubuntu.org.cn/Wikipedia:%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">letax数学公式</a></p>

]]></content>
  </entry>
  
</feed>
